# 能量机关识别程序
## 1.基本原理解释
#### 利用降低相机曝光度，来使周围环境的光亮降低，能量机关上的光凸显出来。再利用漫水法与融合轮廓进行识别
## 2.总体流程
2.1 将视频读取进来，拆成一帧一帧的图片，对每一帧图片进行识别

2.2 将图片由RGB转为HSV，再用opencv内置的函数inRange将能量机关的颜色抠出来（这一步排除了非此颜色的物体排除）

2.3 使用漫水法（opencv内置函数floodFill）进行浇灌，此时有两种情况，一种是还未击中的机关叶，会有一块矩形轮廓，另一种是已经击中的机关叶，会有三块轮廓

2.4 用opencv内置函数bitwise_not，将黑变白，白变黑

2.5 使用膨胀将已经击中的能量机关叶的三个轮廓融合在一起

2.6 用opencv内置函数寻找轮廓，将过大的轮廓（已识别的机关叶）与过小的轮廓（噪点）剔除

2.7 因为第5步膨胀得有点多，因此目标的框框会不符合实际，所以要使用核心算法选用最初的轮廓

2.8 将最后的结果画出来，并标记相关点位，展示

2.9 重复上述步骤直至每一帧都识别完成
## 3.核心算法详细解释
### 3.1 选用最初轮廓算法：
#### 3.1.1 选用最初轮廓的原因：
因为要对轮廓使用最小外接矩形进行画出，但因为融合轮廓一步进行了过度膨胀，使最小矩形变得千奇百怪，框选的结果不符合实际，所以要选用膨胀前的轮廓进行最小外接矩形
#### 3.1.2 如何选用最初轮廓：
对已经完成判断后的轮廓计算中点，与膨胀前的轮廓进行比较，如果这个中点位于哪个轮廓中间，说明这个轮廓就是我们要找的轮廓
